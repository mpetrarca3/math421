<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.353">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Assignment 9 Extra Credit</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="Assignment_9_Extra_Credits_files/libs/clipboard/clipboard.min.js"></script>
<script src="Assignment_9_Extra_Credits_files/libs/quarto-html/quarto.js"></script>
<script src="Assignment_9_Extra_Credits_files/libs/quarto-html/popper.min.js"></script>
<script src="Assignment_9_Extra_Credits_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="Assignment_9_Extra_Credits_files/libs/quarto-html/anchor.min.js"></script>
<link href="Assignment_9_Extra_Credits_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="Assignment_9_Extra_Credits_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="Assignment_9_Extra_Credits_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="Assignment_9_Extra_Credits_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="Assignment_9_Extra_Credits_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Assignment 9 Extra Credit</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="how-effective-the-covid-vaccines" class="level1">
<h1><strong>How effective the Covid vaccines?</strong></h1>
<p><strong><em>How to do it?</em></strong>:</p>
<ul>
<li><p>Open the Rmarkdown file of this assignment (<a href="https://bryantstats.github.io/math421/assignments/fa2021_assignment9_extra_credits.Rmd">link</a>) in Rstudio.</p></li>
<li><p>Right under each <strong>question</strong>, insert a code chunk (you can use the hotkey <code>Ctrl + Alt + I</code> to add a code chunk) and code the solution for the question.</p></li>
<li><p><code>Knit</code> the rmarkdown file (hotkey: <code>Ctrl + Alt + K</code>) to export an html.</p></li>
<li><p>Publish the html file to your Githiub Page.</p></li>
</ul>
<p><strong><em>Submission</em></strong>: Submit the link on Github of the assignment to Canvas</p>
<p>How effective is the covid vaccines? There are multiple analysis to answer the question. This following practice give ONE way to analyze how effective the Covid vaccines are. The analysis is done for the United States.</p>
<ol type="1">
<li>Import the two following data</li>
</ol>
<ul>
<li><p>Data 1: <a href="https://raw.githubusercontent.com/owid/covid-19-data/master/public/data/vaccinations/vaccinations.csv" class="uri">https://raw.githubusercontent.com/owid/covid-19-data/master/public/data/vaccinations/vaccinations.csv</a></p></li>
<li><p>Data 2: <a href="https://covid19.who.int/who-data/vaccination-data.csv" class="uri">https://covid19.who.int/who-data/vaccination-data.csv</a></p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Importing libraries and saving the data to two dataframes.</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
✔ dplyr     1.1.3     ✔ readr     2.1.4
✔ forcats   1.0.0     ✔ stringr   1.5.0
✔ ggplot2   3.4.3     ✔ tibble    3.2.1
✔ lubridate 1.9.2     ✔ tidyr     1.3.0
✔ purrr     1.0.2     
── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
✖ dplyr::filter() masks stats::filter()
✖ dplyr::lag()    masks stats::lag()
ℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors</code></pre>
</div>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gganimate)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gifski)</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(knitr)</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggthemes)</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>df1 <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"https://raw.githubusercontent.com/owid/covid-19-data/master/public/data/vaccinations/vaccinations.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 181634 Columns: 16
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr   (2): location, iso_code
dbl  (13): total_vaccinations, people_vaccinated, people_fully_vaccinated, t...
date  (1): date

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>df2 <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"https://covid19.who.int/who-data/vaccination-data.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 229 Columns: 16
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (4): COUNTRY, ISO3, WHO_REGION, DATA_SOURCE
dbl  (9): TOTAL_VACCINATIONS, PERSONS_VACCINATED_1PLUS_DOSE, TOTAL_VACCINATI...
lgl  (1): VACCINES_USED
date (2): DATE_UPDATED, FIRST_VACCINE_DATE

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(df1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 16
  location    iso_code date       total_vaccinations people_vaccinated
  &lt;chr&gt;       &lt;chr&gt;    &lt;date&gt;                  &lt;dbl&gt;             &lt;dbl&gt;
1 Afghanistan AFG      2021-02-22                  0                 0
2 Afghanistan AFG      2021-02-23                 NA                NA
3 Afghanistan AFG      2021-02-24                 NA                NA
4 Afghanistan AFG      2021-02-25                 NA                NA
5 Afghanistan AFG      2021-02-26                 NA                NA
6 Afghanistan AFG      2021-02-27                 NA                NA
# ℹ 11 more variables: people_fully_vaccinated &lt;dbl&gt;, total_boosters &lt;dbl&gt;,
#   daily_vaccinations_raw &lt;dbl&gt;, daily_vaccinations &lt;dbl&gt;,
#   total_vaccinations_per_hundred &lt;dbl&gt;, people_vaccinated_per_hundred &lt;dbl&gt;,
#   people_fully_vaccinated_per_hundred &lt;dbl&gt;,
#   total_boosters_per_hundred &lt;dbl&gt;, daily_vaccinations_per_million &lt;dbl&gt;,
#   daily_people_vaccinated &lt;dbl&gt;, daily_people_vaccinated_per_hundred &lt;dbl&gt;</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Viewing the dataframe.</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(df2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 16
  COUNTRY       ISO3  WHO_REGION DATA_SOURCE DATE_UPDATED TOTAL_VACCINATIONS
  &lt;chr&gt;         &lt;chr&gt; &lt;chr&gt;      &lt;chr&gt;       &lt;date&gt;                    &lt;dbl&gt;
1 Albania       ALB   EURO       REPORTING   2023-07-16              3087677
2 Chile         CHL   AMRO       REPORTING   2023-06-02             66273384
3 Congo         COG   AFRO       REPORTING   2022-07-31               833210
4 Côte d’Ivoire CIV   AFRO       REPORTING   2023-02-19             25263932
5 Denmark       DNK   EURO       REPORTING   2023-08-20             14943741
6 Greenland     GRL   EURO       OWID        2022-03-14                79738
# ℹ 10 more variables: PERSONS_VACCINATED_1PLUS_DOSE &lt;dbl&gt;,
#   TOTAL_VACCINATIONS_PER100 &lt;dbl&gt;,
#   PERSONS_VACCINATED_1PLUS_DOSE_PER100 &lt;dbl&gt;, PERSONS_LAST_DOSE &lt;dbl&gt;,
#   PERSONS_LAST_DOSE_PER100 &lt;dbl&gt;, VACCINES_USED &lt;lgl&gt;,
#   FIRST_VACCINE_DATE &lt;date&gt;, NUMBER_VACCINES_TYPES_USED &lt;dbl&gt;,
#   PERSONS_BOOSTER_ADD_DOSE &lt;dbl&gt;, PERSONS_BOOSTER_ADD_DOSE_PER100 &lt;dbl&gt;</code></pre>
</div>
</div>
<ol start="2" type="1">
<li>We will merge these two datasets in one for our analysis. We will use the <code>inner_join()</code> function to join the two datasets into one new datasets where the primary keys are Country and Date. First we need to change the names of the two datasets so that they have the same name for country and date. In dataset 1, change the name of the <code>location</code> to <code>Country</code>. In dataset 2, change the name of the variable <code>Date_reported</code> to <code>date</code></li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Creating a column for country thats equal to location and then removing the duplicate location column. This process was repeated for the date column in dataset 2. I'm sure there's many other ways of doing this such as using the rename function, but this was the first method that came to mind.</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>df1 <span class="ot">&lt;-</span> df1 <span class="sc">%&gt;%</span> </span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">COUNTRY =</span> location) <span class="sc">%&gt;%</span> </span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>location)</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>df2 <span class="ot">&lt;-</span> df2 <span class="sc">%&gt;%</span> </span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">date =</span> DATE_UPDATED) <span class="sc">%&gt;%</span> </span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>DATE_UPDATED)</span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">inner_join</span>(df1,df2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Joining with `by = join_by(date, COUNTRY)`</code></pre>
</div>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 30
  iso_code date       total_vaccinations people_vaccinated
  &lt;chr&gt;    &lt;date&gt;                  &lt;dbl&gt;             &lt;dbl&gt;
1 AFG      2023-09-26           21716120          18257599
2 ALB      2023-07-16            3087677           1349150
3 DZA      2022-09-04           15267442           7840131
4 AND      2023-08-06             157062             57912
5 AGO      2023-09-17           27309449          16406741
6 ARG      2022-10-07          109911563          41357499
# ℹ 26 more variables: people_fully_vaccinated &lt;dbl&gt;, total_boosters &lt;dbl&gt;,
#   daily_vaccinations_raw &lt;dbl&gt;, daily_vaccinations &lt;dbl&gt;,
#   total_vaccinations_per_hundred &lt;dbl&gt;, people_vaccinated_per_hundred &lt;dbl&gt;,
#   people_fully_vaccinated_per_hundred &lt;dbl&gt;,
#   total_boosters_per_hundred &lt;dbl&gt;, daily_vaccinations_per_million &lt;dbl&gt;,
#   daily_people_vaccinated &lt;dbl&gt;, daily_people_vaccinated_per_hundred &lt;dbl&gt;,
#   COUNTRY &lt;chr&gt;, ISO3 &lt;chr&gt;, WHO_REGION &lt;chr&gt;, DATA_SOURCE &lt;chr&gt;, …</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Viewing the variable names in the new dataframe.</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "iso_code"                            
 [2] "date"                                
 [3] "total_vaccinations"                  
 [4] "people_vaccinated"                   
 [5] "people_fully_vaccinated"             
 [6] "total_boosters"                      
 [7] "daily_vaccinations_raw"              
 [8] "daily_vaccinations"                  
 [9] "total_vaccinations_per_hundred"      
[10] "people_vaccinated_per_hundred"       
[11] "people_fully_vaccinated_per_hundred" 
[12] "total_boosters_per_hundred"          
[13] "daily_vaccinations_per_million"      
[14] "daily_people_vaccinated"             
[15] "daily_people_vaccinated_per_hundred" 
[16] "COUNTRY"                             
[17] "ISO3"                                
[18] "WHO_REGION"                          
[19] "DATA_SOURCE"                         
[20] "TOTAL_VACCINATIONS"                  
[21] "PERSONS_VACCINATED_1PLUS_DOSE"       
[22] "TOTAL_VACCINATIONS_PER100"           
[23] "PERSONS_VACCINATED_1PLUS_DOSE_PER100"
[24] "PERSONS_LAST_DOSE"                   
[25] "PERSONS_LAST_DOSE_PER100"            
[26] "VACCINES_USED"                       
[27] "FIRST_VACCINE_DATE"                  
[28] "NUMBER_VACCINES_TYPES_USED"          
[29] "PERSONS_BOOSTER_ADD_DOSE"            
[30] "PERSONS_BOOSTER_ADD_DOSE_PER100"     </code></pre>
</div>
</div>
<ol start="3" type="1">
<li>In dataset 2 and variable <code>Country</code> change <code>United States of America</code> to <code>United States</code> (You can use <code>str_replace</code>)</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Changing the name of the category 'United States of America' to 'United States' to match the name in the other dataframe. The changes are saved to the column in the dataframe.</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>df2<span class="sc">$</span>COUNTRY <span class="ot">&lt;-</span> df2<span class="sc">$</span>COUNTRY <span class="sc">%&gt;%</span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_replace</span>(<span class="st">"United States of America"</span>,<span class="st">"United States"</span>)</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a><span class="co">#Viewing the categories within the new country column.</span></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(<span class="fu">table</span>(df2<span class="sc">$</span>COUNTRY))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  [1] "Afghanistan"                                   
  [2] "Albania"                                       
  [3] "Algeria"                                       
  [4] "American Samoa"                                
  [5] "Andorra"                                       
  [6] "Angola"                                        
  [7] "Anguilla"                                      
  [8] "Antigua and Barbuda"                           
  [9] "Argentina"                                     
 [10] "Armenia"                                       
 [11] "Aruba"                                         
 [12] "Australia"                                     
 [13] "Austria"                                       
 [14] "Azerbaijan"                                    
 [15] "Bahamas"                                       
 [16] "Bahrain"                                       
 [17] "Bangladesh"                                    
 [18] "Barbados"                                      
 [19] "Belarus"                                       
 [20] "Belgium"                                       
 [21] "Belize"                                        
 [22] "Benin"                                         
 [23] "Bermuda"                                       
 [24] "Bhutan"                                        
 [25] "Bolivia (Plurinational State of)"              
 [26] "Bonaire"                                       
 [27] "Bonaire, Sint Eustatius and Saba"              
 [28] "Bosnia and Herzegovina"                        
 [29] "Botswana"                                      
 [30] "Brazil"                                        
 [31] "British Virgin Islands"                        
 [32] "Brunei Darussalam"                             
 [33] "Bulgaria"                                      
 [34] "Burkina Faso"                                  
 [35] "Burundi"                                       
 [36] "Cabo Verde"                                    
 [37] "Cambodia"                                      
 [38] "Cameroon"                                      
 [39] "Canada"                                        
 [40] "Cayman Islands"                                
 [41] "Central African Republic"                      
 [42] "Chad"                                          
 [43] "Chile"                                         
 [44] "China"                                         
 [45] "Colombia"                                      
 [46] "Comoros"                                       
 [47] "Congo"                                         
 [48] "Cook Islands"                                  
 [49] "Costa Rica"                                    
 [50] "Côte d’Ivoire"                                 
 [51] "Croatia"                                       
 [52] "Cuba"                                          
 [53] "Curaçao"                                       
 [54] "Cyprus"                                        
 [55] "Czechia"                                       
 [56] "Democratic Republic of the Congo"              
 [57] "Denmark"                                       
 [58] "Djibouti"                                      
 [59] "Dominica"                                      
 [60] "Dominican Republic"                            
 [61] "Ecuador"                                       
 [62] "Egypt"                                         
 [63] "El Salvador"                                   
 [64] "Equatorial Guinea"                             
 [65] "Eritrea"                                       
 [66] "Estonia"                                       
 [67] "Eswatini"                                      
 [68] "Ethiopia"                                      
 [69] "Falkland Islands (Malvinas)"                   
 [70] "Faroe Islands"                                 
 [71] "Fiji"                                          
 [72] "Finland"                                       
 [73] "France"                                        
 [74] "French Guiana"                                 
 [75] "French Polynesia"                              
 [76] "Gabon"                                         
 [77] "Gambia"                                        
 [78] "Georgia"                                       
 [79] "Germany"                                       
 [80] "Ghana"                                         
 [81] "Gibraltar"                                     
 [82] "Greece"                                        
 [83] "Greenland"                                     
 [84] "Grenada"                                       
 [85] "Guadeloupe"                                    
 [86] "Guam"                                          
 [87] "Guatemala"                                     
 [88] "Guernsey"                                      
 [89] "Guinea"                                        
 [90] "Guinea-Bissau"                                 
 [91] "Guyana"                                        
 [92] "Haiti"                                         
 [93] "Honduras"                                      
 [94] "Hungary"                                       
 [95] "Iceland"                                       
 [96] "India"                                         
 [97] "Indonesia"                                     
 [98] "Iran (Islamic Republic of)"                    
 [99] "Iraq"                                          
[100] "Ireland"                                       
[101] "Isle of Man"                                   
[102] "Israel"                                        
[103] "Italy"                                         
[104] "Jamaica"                                       
[105] "Japan"                                         
[106] "Jersey"                                        
[107] "Jordan"                                        
[108] "Kazakhstan"                                    
[109] "Kenya"                                         
[110] "Kiribati"                                      
[111] "Kosovo"                                        
[112] "Kuwait"                                        
[113] "Kyrgyzstan"                                    
[114] "Lao People's Democratic Republic"              
[115] "Latvia"                                        
[116] "Lebanon"                                       
[117] "Lesotho"                                       
[118] "Liberia"                                       
[119] "Libya"                                         
[120] "Liechtenstein"                                 
[121] "Lithuania"                                     
[122] "Luxembourg"                                    
[123] "Madagascar"                                    
[124] "Malawi"                                        
[125] "Malaysia"                                      
[126] "Maldives"                                      
[127] "Mali"                                          
[128] "Malta"                                         
[129] "Marshall Islands"                              
[130] "Martinique"                                    
[131] "Mauritania"                                    
[132] "Mauritius"                                     
[133] "Mexico"                                        
[134] "Micronesia (Federated States of)"              
[135] "Monaco"                                        
[136] "Mongolia"                                      
[137] "Montenegro"                                    
[138] "Montserrat"                                    
[139] "Morocco"                                       
[140] "Mozambique"                                    
[141] "Myanmar"                                       
[142] "Namibia"                                       
[143] "Nauru"                                         
[144] "Nepal"                                         
[145] "Netherlands"                                   
[146] "New Caledonia"                                 
[147] "New Zealand"                                   
[148] "Nicaragua"                                     
[149] "Niger"                                         
[150] "Nigeria"                                       
[151] "Niue"                                          
[152] "North Macedonia"                               
[153] "Northern Mariana Islands (Commonwealth of the)"
[154] "Norway"                                        
[155] "occupied Palestinian territory"                
[156] "Oman"                                          
[157] "Pakistan"                                      
[158] "Palau"                                         
[159] "Panama"                                        
[160] "Papua New Guinea"                              
[161] "Paraguay"                                      
[162] "Peru"                                          
[163] "Philippines"                                   
[164] "Pitcairn Islands"                              
[165] "Poland"                                        
[166] "Portugal"                                      
[167] "Puerto Rico"                                   
[168] "Qatar"                                         
[169] "Republic of Korea"                             
[170] "Republic of Moldova"                           
[171] "Romania"                                       
[172] "Russian Federation"                            
[173] "Rwanda"                                        
[174] "Saba"                                          
[175] "Saint Helena, Ascension and Tristan da Cunha"  
[176] "Saint Kitts and Nevis"                         
[177] "Saint Lucia"                                   
[178] "Saint Vincent and the Grenadines"              
[179] "Samoa"                                         
[180] "San Marino"                                    
[181] "Sao Tome and Principe"                         
[182] "Saudi Arabia"                                  
[183] "Senegal"                                       
[184] "Serbia"                                        
[185] "Seychelles"                                    
[186] "Sierra Leone"                                  
[187] "Singapore"                                     
[188] "Sint Eustatius"                                
[189] "Sint Maarten"                                  
[190] "Slovakia"                                      
[191] "Slovenia"                                      
[192] "Solomon Islands"                               
[193] "Somalia"                                       
[194] "South Africa"                                  
[195] "South Sudan"                                   
[196] "Spain"                                         
[197] "Sri Lanka"                                     
[198] "Sudan"                                         
[199] "Suriname"                                      
[200] "Sweden"                                        
[201] "Switzerland"                                   
[202] "Syrian Arab Republic"                          
[203] "Tajikistan"                                    
[204] "Thailand"                                      
[205] "The United Kingdom"                            
[206] "Timor-Leste"                                   
[207] "Togo"                                          
[208] "Tokelau"                                       
[209] "Tonga"                                         
[210] "Trinidad and Tobago"                           
[211] "Tunisia"                                       
[212] "Turkey"                                        
[213] "Turkmenistan"                                  
[214] "Turks and Caicos Islands"                      
[215] "Tuvalu"                                        
[216] "Uganda"                                        
[217] "Ukraine"                                       
[218] "United Arab Emirates"                          
[219] "United Republic of Tanzania"                   
[220] "United States"                                 
[221] "Uruguay"                                       
[222] "Uzbekistan"                                    
[223] "Vanuatu"                                       
[224] "Venezuela (Bolivarian Republic of)"            
[225] "Viet Nam"                                      
[226] "Wallis and Futuna"                             
[227] "Yemen"                                         
[228] "Zambia"                                        
[229] "Zimbabwe"                                      </code></pre>
</div>
</div>
<ol start="4" type="1">
<li><p>Use <code>inner_join(data1, data2, by = c('Country','date')</code> to create a new dataset.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Using inner join to merge the two dataframes on  `COUNTRY` and `date`. This action is then saved to a dataset.</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">inner_join</span>(df1,df2, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">'COUNTRY'</span>,<span class="st">'date'</span>))</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 30
  iso_code date       total_vaccinations people_vaccinated
  &lt;chr&gt;    &lt;date&gt;                  &lt;dbl&gt;             &lt;dbl&gt;
1 AFG      2023-09-26           21716120          18257599
2 ALB      2023-07-16            3087677           1349150
3 DZA      2022-09-04           15267442           7840131
4 AND      2023-08-06             157062             57912
5 AGO      2023-09-17           27309449          16406741
6 ARG      2022-10-07          109911563          41357499
# ℹ 26 more variables: people_fully_vaccinated &lt;dbl&gt;, total_boosters &lt;dbl&gt;,
#   daily_vaccinations_raw &lt;dbl&gt;, daily_vaccinations &lt;dbl&gt;,
#   total_vaccinations_per_hundred &lt;dbl&gt;, people_vaccinated_per_hundred &lt;dbl&gt;,
#   people_fully_vaccinated_per_hundred &lt;dbl&gt;,
#   total_boosters_per_hundred &lt;dbl&gt;, daily_vaccinations_per_million &lt;dbl&gt;,
#   daily_people_vaccinated &lt;dbl&gt;, daily_people_vaccinated_per_hundred &lt;dbl&gt;,
#   COUNTRY &lt;chr&gt;, ISO3 &lt;chr&gt;, WHO_REGION &lt;chr&gt;, DATA_SOURCE &lt;chr&gt;, …</code></pre>
</div>
</div></li>
</ol>
<p>For more about joining data, see this datacamp course: <a href="https://app.datacamp.com/learn/courses/joining-data-with-dplyr-in-r" class="uri">https://app.datacamp.com/learn/courses/joining-data-with-dplyr-in-r</a></p>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>