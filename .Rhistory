#Converting the class of variables in the dataframe from character to numeric with mutate.
universityDf <- universityDf %>% mutate(`OverAll Score`=as.numeric(`OverAll Score`),
`Teaching Score`=as.numeric(`Teaching Score`),
`Research Score`=as.numeric(`Research Score`),
`Citations Score`=as.numeric(`Citations Score`),
`Industry Income Score`=as.numeric(`Industry Income Score`),
`International Outlook Score`=as.numeric(`International Outlook Score`), na.rm =TRUE)
universityDf %>% summarise(min_number_of_students = min(.[[4]], na.rm = TRUE),
avg_number_of_students = mean(.[[4]], na.rm = TRUE),
max_number_of_students = max(.[[4]], na.rm = TRUE))
#Using subset to find the schools with the minimum and maximum number of students.
universityDf %>% subset(.[[4]] == 115 |
.[[4]] == 460632)
#Using the arrange function to find the universities with the most students.
universityDf %>% arrange(-.[[4]])
#Using count to find the number of universities in each country.
universityDf %>% count(Location)
#Using the count + arrange combo to find the locations with the highest number of universities.
universityDf %>% count(Location) %>%
arrange(-n)
#Filter + count + arrange combo: Comparing the number of top small universities (less than 5,000 students)
#between the U.S. and U.K.
universityDf %>% filter(.[[4]]< 5000 & (Location == 'United States'|Location =='United Kingdom')) %>%
count(Location) %>%
arrange(-n)
#group_by + summarise
universityDf %>%
group_by(Location) %>%
summarise(mean_ovr_score = mean(`OverAll Score`,na.rm=TRUE))
#Using the filter + group_by + summarise combo to compare the average overall score between the U.S. and the U.K.
universityDf %>%
filter(Location == 'United States'|Location == 'United Kingdom') %>%
group_by(Location) %>%
summarise(mean_ovr_score = mean(`OverAll Score`,na.rm=TRUE))
#Using the filter + group_by + summarise + arrange combo to find the countries with the highest mean over all score
# among the world's best universities.
universityDf %>%
filter(.[[4]] >= 5000 & .[[4]] <= 15000) %>%
group_by(Location) %>%
summarise(mean_ovr_score = mean(`OverAll Score`,na.rm=TRUE)) %>%
arrange(-mean_ovr_score, na.rm = TRUE)
install.packages('tidyr')
install.packages('tidyr')
knitr::opts_chunk$set(message = FALSE)
install.packages('tidyr')
install.packages('tidyr')
install.packages('tidyverse')
install.packages('tidyr')
install.packages('tidyverse')
install.packages('tidyr')
install.packages('tidyverse')
install.packages('tidyr')
install.packages('tidyverse')
install.packages('tidyr')
install.packages('tidyverse')
install.packages('tidyr')
install.packages('tidyverse')
install.packages('tidyr')
install.packages('tidyverse')
knitr::opts_chunk$set(message = FALSE)
install.packages('tidyr')
install.packages('tidyverse')
install.packages('tidyr')
install.packages('tidyverse')
library(tidyr)
library(tidyverse)
df <- read_csv('https://covidtracking.com/data/download/all-states-history.csv')
library(lubridate)
df$month = month(df$date)
# day of the week
df$weekday = wday(df$date)
# day of the month
df$monthday <- mday(df$date)
head(df)
install.packages('tidyr')
install.packages('tidyverse')
install.packages("tidyr")
knitr::opts_chunk$set(message = FALSE)
install.packages('tidyr')
install.packages('tidyverse')
install.packages('tidyr')
library(tidyr)
library(tidyverse)
df <- read_csv('https://covidtracking.com/data/download/all-states-history.csv')
install.packages('tidyr')
install.packages('Rtools')
knitr::opts_chunk$set(message = FALSE)
install.packages('tidyr')
install.packages('tidyverse')
install.packages('Rtools')
install.packages('tidyr')
library(tidyr)
library(tidyverse)
df <- read_csv('https://covidtracking.com/data/download/all-states-history.csv')
library(lubridate)
df$month = month(df$date)
# day of the week
df$weekday = wday(df$date)
# day of the month
df$monthday <- mday(df$date)
head(df)
df$daily_death <- case_when(
df$deathIncrease <3 ~ 'low',
df$deathIncrease <=14 ~ 'medium',
TRUE ~ 'high'
)
head(df)
df$month2 <- case_when(
df$monthday <11 ~ 'early_month',
df$monthday <=20 ~ 'mid_month',
TRUE ~ 'end_month'
)
head(df)
install.packages('tidyr')
install.packages("tidyr")
install.packages('tidyr')
knitr::opts_chunk$set(message = FALSE)
install.packages('tidyr')
install.packages('Rtools')
knitr::opts_chunk$set(message = FALSE)
knitr::opts_chunk$set(message = FALSE)
install.packages('tidyr')
library(tidyverse)
library(tidyverse)
df <- read_csv(https://bryantstats.github.io/math421/data/adult_census_missing.csv)
library(tidyverse)
df <- read_csv('https://bryantstats.github.io/math421/data/adult_census_missing.csv')
head(df)
is.na(df)
sum(is.na(df))
sum(sum(is.na(df)))
sum(is.na(is.na(df)))
sum(is.na(df))
colSums(is.na(df))
colSums(is.na(df))
sum(is.na(df))
aggr(df)
install.packages('VIM')
aggr(df)
remove.packages('VIM')
install.packages('VIM')
library('VIM')
aggr(df)
names(df)
table(df)
table(df[:1000])
table(df[1000])
table([1000]df)
table(df$age)
df
head(df)
table(df$age, df$workclass)
table(df$workclass)
table(df$age)
table(df$workclass)
df$workclass <- na_if(df$workclass == ('?'|'Not known'))
df$workclass <- na_if(df$workclass, '?')
df$workclass <- na_if(df$workclass, '?'|'Not known'|'Unknown')
df$workclass <- na_if(df$workclass, ('?'|'Not known'|'Unknown'))
df$workclass <- na_if(df$workclass,'?')
df$workclass <- na_if(df$workclass,'?','Unknown')
df1 <- df %>%
replace('Unknown','Not known','?', NA)
df1 <- df$workclass %>%
replace('Unknown','Not known','?', NA)
df1 <- df$workclass %>%
replace('Unknown'|'Not known'|'?', NA)
df1 <- df %>%
replace_na('?',NA)
df1 <- df %>%
replace(c['?','Unknown'], NA)
df1 <- df %>%
replace(['?','Unknown'], NA)
df1 <- df %>%
replace(('?','Unknown'), NA)
df1 <- df %>%
replace('?','Unknown', NA)
df1 <- df %>%
replace('?','Unknown', NA)
knitr::opts_chunk$set(message = FALSE)
install.packages('tidyr')
library(tidyr)
library(tidyverse)
df <- read_csv('https://covidtracking.com/data/download/all-states-history.csv')
library(lubridate)
df$month = month(df$date)
# day of the week
df$weekday = wday(df$date)
# day of the month
df$monthday <- mday(df$date)
head(df)
df$daily_death <- case_when(
df$deathIncrease <3 ~ 'low',
df$deathIncrease <=14 ~ 'medium',
TRUE ~ 'high'
)
head(df)
df$month2 <- case_when(
df$monthday <11 ~ 'early_month',
df$monthday <=20 ~ 'mid_month',
TRUE ~ 'end_month'
)
head(df)
df$weekend <- case_when(
df$weekday <2 ~ 1,
df$weekday <=6 ~ 0,
TRUE ~ 1
)
head(df)
#Deselecting totalTestsViral with the select function.
#The deselection was assigned to the dataframe.
df <- df %>% select(-totalTestsViral)
df
x <- c(1:10)
# square root of x
sqrt(x)
sum(sqrt(x))
log(sum(sqrt(x)))
# log base 2 of 16
log(16, 2)
x %>% sqrt
x %>% sqrt %>% sum
x %>% sqrt %>% sum %>% log
16 %>% log2
df %>%
group_by(weekday) %>%
summarise(mean(positiveIncrease))
#Median number of cases by 'month'
df %>%
group_by(month) %>%
summarise(median(positiveIncrease))
#Average number of cases by 'month2'
df %>%
group_by(month2) %>%
summarise(mean(positiveIncrease))
#Median number of cases by 'weekend'
df %>%
group_by(weekend) %>%
summarise(median(positiveIncrease))
df %>%
filter(month==1|month==2) %>%
group_by(month) %>%
summarise(positve_increase = mean(positiveIncrease))
df %>%
filter(month==10|month==11,year(date)==2020) %>%
group_by(weekend) %>%
summarise(positve_increase = median(positiveIncrease))
df %>%
filter(year(date) == 2020 & ((month == 9 & monthday >21) | month == 10 |
month == 11 | (month == 12 & monthday <= 20))) %>%
group_by(month2) %>%
summarise(mean_death = mean(death, na.rm = TRUE))
df %>%
filter(year(date) == 2020 & ((month == 6 & monthday > 19) | month == 7 |
month == 8 |(month == 9 & monthday <21))) %>%
group_by(weekend) %>%
summarise(mean_hospitalized = mean(hospitalized, na.rm = TRUE))
df %>%
filter(state == 'RI' & year(date) == 2021) %>%
group_by(weekday) %>%
summarise(mean_cases = mean(positiveIncrease, na.rm = TRUE))
df %>%
filter(state == 'RI' & year(date)==2021 & month == 6 | month == 7 | month == 8 | month == 9) %>%
group_by(month) %>%
summarise(median_cases = median(positiveIncrease, na.rm = TRUE))
df %>% filter(weekend == 1) %>%
group_by(month) %>%
summarise(deaths_by_weekend = sum(death, na.rm = TRUE)) %>%
arrange(-deaths_by_weekend)
universityDf <- read_csv('World University Rankings 2023.csv')
universityDf
#Removing the column 'No of student per staff' from the dataframe.
universityDf <- universityDf %>% select(-'No of student per staff')
universityDf
universityDf %>% filter(Location == 'United States')
#Converting the class of variables in the dataframe from character to numeric with mutate.
universityDf <- universityDf %>% mutate(`OverAll Score`=as.numeric(`OverAll Score`),
`Teaching Score`=as.numeric(`Teaching Score`),
`Research Score`=as.numeric(`Research Score`),
`Citations Score`=as.numeric(`Citations Score`),
`Industry Income Score`=as.numeric(`Industry Income Score`),
`International Outlook Score`=as.numeric(`International Outlook Score`), na.rm =TRUE)
universityDf
universityDf %>% summarise(min_number_of_students = min(.[[4]], na.rm = TRUE),
avg_number_of_students = mean(.[[4]], na.rm = TRUE),
max_number_of_students = max(.[[4]], na.rm = TRUE))
#Using subset to find the schools with the minimum and maximum number of students.
universityDf %>% subset(.[[4]] == 115 |
.[[4]] == 460632)
#Using the arrange function to find the universities with the most students.
universityDf %>% arrange(-.[[4]])
#Using count to find the number of universities in each country.
universityDf %>% count(Location)
#Using the count + arrange combo to find the locations with the highest number of universities.
universityDf %>% count(Location) %>%
arrange(-n)
#Filter + count + arrange combo: Comparing the number of top small universities (less than 5,000 students)
#between the U.S. and U.K.
universityDf %>% filter(.[[4]]< 5000 & (Location == 'United States'|Location =='United Kingdom')) %>%
count(Location) %>%
arrange(-n)
#group_by + summarise
universityDf %>%
group_by(Location) %>%
summarise(mean_ovr_score = mean(`OverAll Score`,na.rm=TRUE))
#Using the filter + group_by + summarise combo to compare the average overall score between the U.S. and the U.K.
universityDf %>%
filter(Location == 'United States'|Location == 'United Kingdom') %>%
group_by(Location) %>%
summarise(mean_ovr_score = mean(`OverAll Score`,na.rm=TRUE))
#Using the filter + group_by + summarise + arrange combo to find the countries with the highest mean over all score
# among the world's best universities.
universityDf %>%
filter(.[[4]] >= 5000 & .[[4]] <= 15000) %>%
group_by(Location) %>%
summarise(mean_ovr_score = mean(`OverAll Score`,na.rm=TRUE)) %>%
arrange(-mean_ovr_score, na.rm = TRUE)
install.packages('tidyr')
install.packages('tidyverse')
install.packages("tidyverse")
knitr::opts_chunk$set(message = FALSE)
install.packages('tidyr')
install.packages('tidyverse')
knitr::opts_chunk$set(message = FALSE)
df1 <- df %>%
replace('?',NA)
knitr::opts_chunk$set(message = FALSE)
install.packages('tidyr')
library(tidyverse)
df <- read_csv('https://bryantstats.github.io/math421/data/adult_census_missing.csv')
head(df)
colSums(is.na(df))
sum(is.na(df))
install.packages('VIM')
library('VIM')
aggr(df)
table(df$age)
#There are suspicious categories in the variable 'workclass'. There categories include
#'?', 'Not known', 'Unknown',
table(df$workclass)
df1 <- df %>%
replace('?',NA)
df1 <- df %>%
replace('?',NA) %>%
replace('Not known',NA) %>%
replace('Unknown',NA)
table(df1$workclass)
df1 <- df %>%
replace('?',NA) %>%
replace('Not known','NA') %>%
replace('Unknown','NA')
table(df1$workclass)
df1 <- df %>%
replace('?',NA) %>%
replace('Not known',NA) %>%
replace('Unknown',NA)
table(df1$workclass)
df %>% mutate_all(~replace(., . == 'Not Known', NA))
df %>% mutate_all(~replace(., . == 'Not Known', NA)) %>%
table(df$workclass)
df %>% mutate_all(~replace(., . == 'Not Known', NA)) %>%
table(df)
table(df1$workclass)
df1 <- df %>% mutate_all(~replace(., . == 'Not Known', NA))
table(df1$workclass)
df1 <- df %>% mutate_all(~replace(., . == 'Not Known', NA)) %>%
mutate_all(~replace(., . == '?', NA)) %>%
mutate_all(~replace(., . == 'Unknown', NA))
table(df1$workclass)
names(df)
table(df$education.num)
table(df$race)
table(df$fnlwgt)
names(table(df$fnlwgt))
table(df$education)
table(df$education.num)
table(df$marital.status)
#There is one suspicious category within the variable 'marital.status. This category
#is titled unknown.'
table(df$marital.status)
table(df$occupation)
table(df$relationship)
#There is one suspicious category within the variable 'relationship'.
table(df$relationship)
table(df$race)
table(df$sex)
table(df$capital.gain)
table(df$capital.loss)
table(df$hours.per.week)
table(df$native.country)
table(df$income)
#There are suspicious categories in the variable 'workclass'. There categories include
#'?', 'Not known', 'Unknown'
table(df$workclass)
table(df$native.country)
str(names(table(df$fnlwgt)))
str((table(df$fnlwgt)))
str(names((table(df$fnlwgt)))
str(names(table(df$fnlwgt)))
str((df$fnlwgt))
summarise(df$fnlwgt)
summarise(df$age)
summarise(df$income)
summarise(df)
df %>%
filter(fnlwgt == '?'|fnlwgt == 'Not Known'|fnlwgt == 'Unknown')
table(df$fnlwgt)
#There is one suspicious category within the variable 'sex'.
#The category is titled '
table(df$sex)
df1
colSums(is.na(df))
colSums(is.na(df1))
aggr(df1)
knitr::opts_chunk$set(message = FALSE)
library(tidyverse)
df <- read_csv('imdb_top_1000.csv')
names(df)
df %>%
group_by(Series_Title) %>%
summarise(Gross) %>%
arrange(-Gross) %>%
head()
df %>%
group_by(Series_Title) %>%
summarise(IMDB_Rating) %>%
arrange(IMDB_Rating) %>%
head()
df %>%
group_by(Released_Year) %>%
count(Released_Year) %>%
arrange(-n)
df %>%
filter(Released_Year == '2014') %>%
summarise(total_revenue = sum(Gross,na.rm=TRUE))
df %>%
summarise(avg_revenue = mean(Gross,na.rm=TRUE))
df %>%
group_by(Released_Year) %>%
summarise(avg_votes = mean(No_of_Votes,na.rm=TRUE))
df %>%
filter(IMDB_Rating>9) %>%
summarise(avg_votes = mean(No_of_Votes,na.rm=TRUE))
df2020 <- df %>% filter(Released_Year == '2020')
summary(df2020$No_of_Votes)
df2020 %>%
filter(No_of_Votes >= 84127 & No_of_Votes < 106083) %>%
summarise(avg_meta_score = mean(Meta_score,na.rm=TRUE))
#There is only one movie from 2020 that falls within the range of votes.
#Hence, the average Meta score only represents one movie.
df2020
df$Runtime <- df$Runtime %>%
str_remove('min')
df <- df %>%
mutate(Runtime = as.numeric(Runtime,na.rm = TRUE))
head(df)
df %>%
filter(Released_Year >=2010 & Released_Year <=2019) %>%
summarise(avg_run_time_2010s = mean(Runtime, na.rm = TRUE))
cor(df$Runtime, df$IMDB_Rating, use = "complete.obs")
df$education %>% select_if()
df %>% select_if(Released_Year >= 2000)
#Converting the class of the variable 'Released_Year' to numeric before using any functions.
df <- df %>%
mutate(Released_Year = as.numeric(Released_Year,na.rm = TRUE))
head(df)
df %>% select_if(Released_Year >= 2000)
df %>% select(sum(is.na = 0
))
df %>% select(is.numeric())
df %>% select([1],[2])
df %>% select(.[1],.[2])
names(df)
df %>% select(-Poster_Link)
df %>% select(-Poster_Link, -Certificate) %>%
select()
df %>% select(-Poster_Link, -Certificate)
df %>% select(-Poster_Link, -Certificate, -Overview)
head(df)
df <- df %>% select(-Poster_Link, -Certificate, -Overview)
head(df)
df <- df %>% select(-Poster_Link, -Certificate, -Overview)
names(df)
table(df$Genre)
df %>% filter(Genre == ("Action, Crime, Drama"|
"Horror"|"Mystery, Thriller"))
df %>% filter(Genre == "Action, Crime, Drama",
Genre == "Horror",
Genre == "Mystery, Thriller")
df %>% filter(Genre == "Action, Crime, Drama",
Genre == "Horror",
Genre == "Mystery, Thriller")
df %>% filter(Genre == "Action, Crime, Drama",
Genre == "Horror",
Genre == "Mystery, Thriller")
df %>% filter(Genre == "Action, Crime, Drama",
Genre == "Horror",
Genre == "Mystery, Thriller", na,rm = TRUE)
df %>% filter(Genre == "Action, Crime, Drama",
Genre == "Horror",
Genre == "Mystery, Thriller", na.rm = TRUE)
df %>% filter(Genre == "Action, Crime, Drama")
knitr::opts_chunk$set(message = FALSE)
install.packages('tidyr')
library(tidyverse)
df <- read_csv('https://bryantstats.github.io/math421/data/adult_census_missing.csv')
head(df)
colSums(is.na(df))
sum(is.na(df))
install.packages('VIM')
library('VIM')
aggr(df)
